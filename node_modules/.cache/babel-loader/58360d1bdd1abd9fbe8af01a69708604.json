{"ast":null,"code":"var _jsxFileName = \"/home/trina/thinkful/petful-client/src/Components/AdoptionPage/AdoptionPage.js\";\nimport React, { Component } from 'react';\nimport './AdoptionPage.css';\nimport config from '../../config';\nexport default class AdoptionPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dog: {},\n      cat: {},\n      people: [],\n      currentUser: null,\n      petChoice: true\n    };\n\n    this.updatePeopleList = () => {\n      fetch(`${config.API_ENDPOINT}/people`).then(res => res.json()).then(data => {\n        console.log(data);\n        this.setState({\n          people: data\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch(`${config.API_ENDPOINT}/pets`).then(res => res.json()).then(data => {\n      this.setState({\n        dog: data.nextDog,\n        cat: data.nextCat\n      });\n    });\n    fetch(`${config.API_ENDPOINT}/people`).then(res => res.json()).then(data => {\n      console.log(data);\n      this.setState({\n        people: data\n      });\n    });\n    console.log(this.state);\n  }\n\n  onJoinQueue(e) {\n    e.preventDefault();\n    const name = {\n      Name: e.target.name.value\n    };\n    const add = this.state.people;\n    add.push(e.target.name.value);\n    fetch(`${config.API_ENDPOINT}/people`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(name)\n    });\n    this.setState({\n      people: add,\n      currentUser: e.target.name.value\n    });\n    let thisPage = this;\n    let interval = setInterval(function () {\n      let petChoice;\n\n      if (thisPage.state.petChoice === true) {\n        petChoice = {\n          type: 'cat'\n        };\n      } else {\n        petChoice = {\n          type: 'dog'\n        };\n      }\n\n      thisPage.fetchData(petChoice);\n      thisPage.setState({\n        petChoice: !thisPage.state.petChoice\n      });\n\n      if (thisPage.state.people[1] === thisPage.state.currentUser) {\n        clearInterval(interval);\n      }\n    }, 5000);\n    e.target.name.value = '';\n  }\n\n  fetchData(petChoice) {\n    fetch(`${config.API_ENDPOINT}/pets`, {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(petChoice)\n    }).then(() => {\n      return fetch(`${config.API_ENDPOINT}/pets`);\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        dog: data.nextDog,\n        cat: data.nextCat\n      });\n      return fetch(`${config.API_ENDPOINT}/people`);\n    }).then(res => res.json()).then(data => {\n      this.setState({\n        people: data\n      });\n    });\n  }\n\n  nextInLine() {\n    const newNames = [{\n      Name: 'Sasha Morales'\n    }, {\n      Name: 'Trinity Hart'\n    }, {\n      Name: 'Ariel Forrest'\n    }, {\n      Name: 'Bob Pilterfrost'\n    }];\n    const thisPage = this;\n    let counter = 3;\n    const add = this.state.people;\n    add.push(newNames[counter].Name);\n    let interval = setInterval(function () {\n      fetch(`${config.API_ENDPOINT}/people`, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify(newNames[counter--])\n      }).then(() => {\n        thisPage.updatePeopleList();\n      });\n\n      if (counter === -1) {\n        clearInterval(interval);\n      }\n    }, 5000);\n  }\n\n  adopt(e) {\n    e.preventDefault();\n    let type = {\n      type: e.target.id\n    };\n    this.fetchData(type);\n    alert('Congratulations! You have successfully adopted your new pet!!');\n  }\n\n  render() {\n    const people = this.state.people;\n    const dog = this.state.dog;\n    const cat = this.state.cat;\n\n    if (people[0] === this.state.currentUser && people.length === 1) {\n      this.nextInLine();\n    }\n\n    return React.createElement(\"div\", {\n      className: \"adoption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Adopt a Pet\"), React.createElement(\"div\", {\n      className: \"pets-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dogBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Next Dog Up!\"), React.createElement(\"img\", {\n      src: dog.imageURL,\n      alt: dog.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      className: \"imageDesc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(\"em\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"\\\"\", dog.description, \"\\\"\")), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Name: \", dog.name), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Gender: \", dog.gender), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Age: \", dog.age, \" years old\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Breed: \", dog.breed), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Story: \", dog.story)), this.state.currentUser && this.state.currentUser === people[0] && React.createElement(\"form\", {\n      id: \"dog\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"dog\",\n      onClick: e => this.adopt(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Adopt Me!\"))), React.createElement(\"div\", {\n      className: \"catBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Next Cat Up!\"), React.createElement(\"img\", {\n      src: cat.imageURL,\n      alt: cat.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      className: \"imageDesc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"em\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"\\\"\", cat.description, \"\\\"\")), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Name: \", cat.name), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Gender: \", cat.gender), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Age: \", cat.age, \" years old\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Breed: \", cat.breed), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Story: \", cat.story)), this.state.currentUser && this.state.currentUser === people[0] && React.createElement(\"form\", {\n      id: \"cat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"cat\",\n      onClick: e => this.adopt(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Adopt Me!\")))), React.createElement(\"section\", {\n      className: \"adoptionQ\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"In love yet? Join the queue below...\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Adoption Queue\"), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, people.map((person, i) => React.createElement(\"li\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, person))), React.createElement(\"form\", {\n      onSubmit: e => this.onJoinQueue(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Join Queue\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/trina/thinkful/petful-client/src/Components/AdoptionPage/AdoptionPage.js"],"names":["React","Component","config","AdoptionPage","state","dog","cat","people","currentUser","petChoice","updatePeopleList","fetch","API_ENDPOINT","then","res","json","data","console","log","setState","componentDidMount","nextDog","nextCat","onJoinQueue","e","preventDefault","name","Name","target","value","add","push","method","headers","body","JSON","stringify","thisPage","interval","setInterval","type","fetchData","clearInterval","nextInLine","newNames","counter","adopt","id","alert","render","length","imageURL","description","gender","age","breed","story","map","person","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './AdoptionPage.css';\nimport config from '../../config';\n\nexport default class AdoptionPage extends Component {\n  state = {\n    dog: {},\n    cat: {},\n    people: [],\n    currentUser: null,\n    petChoice: true\n  };\n\n  componentDidMount() {\n    fetch(`${config.API_ENDPOINT}/pets`).then((res) => res.json()).then((data) => {\n      this.setState({\n        dog: data.nextDog,\n        cat: data.nextCat\n      });\n    });\n    fetch(`${config.API_ENDPOINT}/people`).then((res) => res.json()).then((data) => {\n      console.log(data);\n      this.setState({\n        people: data\n      });\n    });\n    console.log(this.state)\n  }\n\n  onJoinQueue(e) {\n    e.preventDefault();\n    const name = { Name: e.target.name.value };\n    const add = this.state.people;\n    add.push(e.target.name.value);\n\n    fetch(`${config.API_ENDPOINT}/people`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(name)\n    });\n\n    this.setState({\n      people: add,\n      currentUser: e.target.name.value\n    });\n    let thisPage = this;\n\n    let interval = setInterval(function() {\n      let petChoice;\n\n      if (thisPage.state.petChoice === true) {\n        petChoice = { type: 'cat' };\n      } else {\n        petChoice = { type: 'dog' };\n      }\n\n      thisPage.fetchData(petChoice);\n\n      thisPage.setState({\n        petChoice: !thisPage.state.petChoice\n      });\n      if (thisPage.state.people[1] === thisPage.state.currentUser) {\n        clearInterval(interval);\n      }\n    }, 5000);\n\n    e.target.name.value = '';\n  }\n\n  fetchData(petChoice) {\n    fetch(`${config.API_ENDPOINT}/pets`, {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(petChoice)\n    })\n      .then(() => {\n        return fetch(`${config.API_ENDPOINT}/pets`);\n      })\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({\n          dog: data.nextDog,\n          cat: data.nextCat\n        });\n        return fetch(`${config.API_ENDPOINT}/people`);\n      })\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({\n          people: data\n        });\n      });\n  }\n\n  nextInLine() {\n    const newNames = [\n      { Name: 'Sasha Morales' },\n      { Name: 'Trinity Hart' },\n      { Name: 'Ariel Forrest' },\n      { Name: 'Bob Pilterfrost' }\n    ];\n    const thisPage = this;\n    let counter = 3;\n    const add = this.state.people;\n    add.push(newNames[counter].Name);\n\n    let interval = setInterval(function() {\n      fetch(`${config.API_ENDPOINT}/people`, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify(newNames[counter--])\n      }).then(() => {\n        thisPage.updatePeopleList();\n      });\n      if (counter === -1) {\n        clearInterval(interval);\n      }\n    }, 5000);\n  }\n\n  updatePeopleList = () => {\n    fetch(`${config.API_ENDPOINT}/people`).then((res) => res.json()).then((data) => {\n      console.log(data);\n      this.setState({\n        people: data\n      });\n    });\n  };\n\n  adopt(e) {\n    e.preventDefault();\n    let type = { type: e.target.id };\n    this.fetchData(type);\n    alert('Congratulations! You have successfully adopted your new pet!!');\n  }\n\n  render() {\n    const people = this.state.people;\n    const dog = this.state.dog;\n    const cat = this.state.cat;\n    if (people[0] === this.state.currentUser && people.length === 1) {\n      this.nextInLine();\n    }\n    return (\n      <div className='adoption'>\n        <h1>Adopt a Pet</h1>\n        <div className='pets-container'>\n          <div className='dogBox'>\n            <h2>Next Dog Up!</h2>\n            <img src={dog.imageURL} alt={dog.description} />\n            <li className='imageDesc'>\n              <br />\n              <em>\"{dog.description}\"</em>\n            </li>\n            <ul>\n              <br />\n              <li>Name: {dog.name}</li>\n              <br />\n              <li>Gender: {dog.gender}</li>\n              <br />\n              <li>Age: {dog.age} years old</li>\n              <br />\n              <li>Breed: {dog.breed}</li>\n              <br />\n              <li>Story: {dog.story}</li>\n            </ul>\n            {this.state.currentUser &&\n            this.state.currentUser === people[0] && (\n              <form id='dog'>\n                <button id='dog' onClick={(e) => this.adopt(e)}>\n                  Adopt Me!\n                </button>\n              </form>\n            )}\n          </div>\n          <div className='catBox'>\n            <h2>Next Cat Up!</h2>\n            <img src={cat.imageURL} alt={cat.description} />\n            <li className='imageDesc'>\n              <br />\n              <em>\"{cat.description}\"</em>\n            </li>\n            <ul>\n              <br />\n              <li>Name: {cat.name}</li>\n              <br />\n              <li>Gender: {cat.gender}</li>\n              <br />\n              <li>Age: {cat.age} years old</li>\n              <br />\n              <li>Breed: {cat.breed}</li>\n              <br />\n              <li>Story: {cat.story}</li>\n            </ul>\n            {this.state.currentUser &&\n            this.state.currentUser === people[0] && (\n              <form id='cat'>\n                <button id='cat' onClick={(e) => this.adopt(e)}>\n                  Adopt Me!\n                </button>\n              </form>\n            )}\n          </div>\n        </div>\n        <section className='adoptionQ'>\n          <h3>In love yet? Join the queue below...</h3>\n          <label>Adoption Queue</label>\n          <ol>{people.map((person, i) => <li key={i}>{person}</li>)}</ol>\n          <form onSubmit={(e) => this.onJoinQueue(e)}>\n            <label>Name:</label>\n            <input type='text' name='name' />\n            <button>Join Queue</button>\n          </form>\n        </section>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}